# Claude Code Agents æ¶æ„æ–‡æ¡£

åŸºäº SOLID åŸåˆ™çš„æ¨¡å—åŒ–æµ‹è¯•è‡ªåŠ¨åŒ–ç³»ç»Ÿï¼Œé€šè¿‡ Claude Code å®Œæˆå®Œæ•´çš„æµ‹è¯•æµç¨‹ã€‚

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### SOLID åŸåˆ™åº”ç”¨

- **S** - Single Responsibility: æ¯ä¸ª Agent åªè´Ÿè´£ä¸€ä¸ªç‰¹å®šä»»åŠ¡
- **O** - Open/Closed: é€šè¿‡æ¥å£æ‰©å±•åŠŸèƒ½ï¼Œæ— éœ€ä¿®æ”¹ç°æœ‰ä»£ç 
- **L** - Liskov Substitution: æ‰€æœ‰ Agent éƒ½ç»§æ‰¿è‡ª BaseAgent
- **I** - Interface Segregation: ç²¾ç®€çš„æ¥å£è®¾è®¡ï¼Œå„å¸å…¶èŒ
- **D** - Dependency Inversion: ä¾èµ–æŠ½è±¡è€Œéå…·ä½“å®ç°

## ğŸ“‚ æ–‡ä»¶ç»“æ„

```
src/agents/
â”œâ”€â”€ types.ts                 # ç±»å‹å®šä¹‰å’ŒåŸºç¡€æŠ½è±¡ç±» (60è¡Œ)
â”œâ”€â”€ claude-executor.ts       # Claude Code æ‰§è¡Œå™¨ (80è¡Œ)
â”œâ”€â”€ website-analyzer.ts      # ç½‘ç«™åˆ†æä»£ç† (70è¡Œ)
â”œâ”€â”€ scenario-generator.ts    # åœºæ™¯ç”Ÿæˆä»£ç† (75è¡Œ)
â”œâ”€â”€ testcase-generator.ts    # æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆä»£ç† (80è¡Œ)
â”œâ”€â”€ test-runner.ts          # æµ‹è¯•æ‰§è¡Œä»£ç† (95è¡Œ)
â””â”€â”€ orchestrator.ts         # ä¸»åè°ƒå™¨ (85è¡Œ)
```

## ğŸ”„ å·¥ä½œæµç¨‹

### 1. ç½‘ç«™åˆ†æ (WebsiteAnalyzer)
- ğŸ¯ **ç›®æ ‡**: ä½¿ç”¨ Claude Code + Playwright MCP åˆ†æç›®æ ‡ç½‘ç«™
- ğŸ“ **è¾“å‡º**: `website-analysis.md` - åŒ…å«é¡µé¢ç»“æ„ã€å¯äº¤äº’å…ƒç´ ã€ç”¨æˆ·åœºæ™¯åˆ†æ
- ğŸ”§ **å®ç°**: Claude Code ä½¿ç”¨ Playwright MCP å·¥å…·è®¿é—®ç½‘ç«™ï¼Œä½¿ç”¨ Write å·¥å…·ä¿å­˜åˆ†æç»“æœ

### 2. åœºæ™¯ç”Ÿæˆ (ScenarioGenerator)
- ğŸ¯ **ç›®æ ‡**: åŸºäºç½‘ç«™åˆ†æç”Ÿæˆæµ‹è¯•åœºæ™¯æ–‡æ¡£
- ğŸ“ **è¾“å‡º**: `test-scenarios.md` - è¯¦ç»†çš„æµ‹è¯•åœºæ™¯è®¾è®¡
- ğŸ“– **è¾“å…¥**: è¯»å– `website-analysis.md`ï¼ŒClaude Code ä½¿ç”¨ Write å·¥å…·ä¿å­˜åœºæ™¯æ–‡æ¡£

### 3. æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆ (TestCaseGenerator)
- ğŸ¯ **ç›®æ ‡**: å°†æµ‹è¯•åœºæ™¯è½¬æ¢ä¸º Playwright ä»£ç 
- ğŸ“ **è¾“å‡º**: `generated-tests.spec.ts` - å¯æ‰§è¡Œçš„æµ‹è¯•ä»£ç 
- ğŸ“– **è¾“å…¥**: è¯»å– `test-scenarios.md`ï¼ŒClaude Code ä½¿ç”¨ Write å·¥å…·ä¿å­˜æµ‹è¯•ä»£ç 

### 4. æµ‹è¯•æ‰§è¡Œ (TestRunner)
- ğŸ¯ **ç›®æ ‡**: æ‰§è¡Œç”Ÿæˆçš„æµ‹è¯•å¹¶ç”ŸæˆæŠ¥å‘Š
- ğŸ“ **è¾“å‡º**: `test-report.md` - æµ‹è¯•æ‰§è¡Œç»“æœæŠ¥å‘Š
- âš™ï¸ **å·¥å…·**: ç›´æ¥è°ƒç”¨ Playwright æ‰§è¡Œæµ‹è¯•

## ğŸš€ ä½¿ç”¨æ–¹æ³•

```bash
# è¿è¡Œå®Œæ•´çš„è‡ªåŠ¨åŒ–æµ‹è¯•æµç¨‹
pnpm claude-agents
```

## ğŸ”§ æ ¸å¿ƒç»„ä»¶

### BaseAgent æŠ½è±¡ç±»
```typescript
abstract class BaseAgent {
  protected config: AgentConfig;
  protected log(message: string): void;
  protected logError(error: string): void;
  abstract execute(...args: any[]): Promise<AgentResult>;
}
```

### ClaudeExecutor
- å°è£… Claude Code CLI è°ƒç”¨
- æ”¯æŒè¶…æ—¶æ§åˆ¶å’Œé”™è¯¯å¤„ç†
- å®æ—¶è¾“å‡ºæ‰§è¡Œè¿‡ç¨‹

### TestAutomationOrchestrator
- åè°ƒæ‰€æœ‰ Agent çš„æ‰§è¡Œé¡ºåº
- å¤„ç† Agent é—´çš„æ•°æ®ä¼ é€’
- æä¾›ç»Ÿä¸€çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—

## ğŸ“Š è¾“å‡ºæ–‡ä»¶

æ‰§è¡Œå®Œæˆååœ¨ `claude-agents-output/` ç›®å½•ç”Ÿæˆï¼š

1. **website-analysis.md** - ç½‘ç«™åˆ†ææŠ¥å‘Š
2. **test-scenarios.md** - æµ‹è¯•åœºæ™¯è®¾è®¡æ–‡æ¡£  
3. **generated-tests.spec.ts** - Playwright æµ‹è¯•ä»£ç 
4. **test-report.md** - æµ‹è¯•æ‰§è¡ŒæŠ¥å‘Š

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ¤– å®Œå…¨åŸºäº Claude Code
- æ‰€æœ‰æ™ºèƒ½åˆ†æå’Œç”Ÿæˆéƒ½é€šè¿‡ Claude Code å®Œæˆ
- åˆ©ç”¨ Playwright MCP è¿›è¡Œç½‘ç«™äº¤äº’
- ä¸ä¾èµ–ç›´æ¥çš„ SDK è°ƒç”¨

### ğŸ”„ å®æ—¶è¾“å‡º
- æ‰€æœ‰ Claude Code æ‰§è¡Œè¿‡ç¨‹å®æ—¶æ˜¾ç¤ºåœ¨æ§åˆ¶å°
- é€æ˜çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œä¾¿äºè°ƒè¯•å’Œç›‘æ§

### ğŸ“ æ–‡ä»¶é©±åŠ¨
- å„é˜¶æ®µé€šè¿‡æ–‡ä»¶ä¼ é€’æ•°æ®
- å¯è¿½æº¯çš„å®Œæ•´å·¥ä½œæµç¨‹
- æ”¯æŒä¸­æ–­å’Œæ¢å¤

### ğŸ›¡ï¸ å®¹é”™è®¾è®¡
- æ¯ä¸ª Agent ç‹¬ç«‹çš„é”™è¯¯å¤„ç†
- è¯¦ç»†çš„æ—¥å¿—å’Œé”™è¯¯ä¿¡æ¯
- ä¼˜é›…çš„å¤±è´¥å¤„ç†

## ğŸ”§ æ‰©å±•æ€§

### æ·»åŠ æ–°çš„ Agent
1. ç»§æ‰¿ `BaseAgent` ç±»
2. å®ç° `execute` æ–¹æ³•
3. åœ¨ `Orchestrator` ä¸­é›†æˆ

### è‡ªå®šä¹‰ Claude æç¤ºè¯
- æ¯ä¸ª Agent éƒ½æœ‰ç‹¬ç«‹çš„æç¤ºè¯æ„å»ºæ–¹æ³•
- å¯ä»¥æ ¹æ®éœ€è¦è°ƒæ•´æç¤ºè¯ç­–ç•¥

### æ”¯æŒä¸åŒæµ‹è¯•æ¡†æ¶
- é€šè¿‡ä¿®æ”¹ `TestCaseGenerator` æ”¯æŒå…¶ä»–æµ‹è¯•æ¡†æ¶
- ä¿æŒæ¥å£ä¸å˜ï¼Œæ›¿æ¢å®ç°

## ğŸ¯ ä¼˜åŠ¿

1. **æ¨¡å—åŒ–**: æ¯ä¸ªåŠŸèƒ½ç‹¬ç«‹ï¼Œæ˜“äºç»´æŠ¤å’Œæ‰©å±•
2. **å¯å¤ç”¨**: å„ Agent å¯ç‹¬ç«‹ä½¿ç”¨
3. **é€æ˜**: å®Œæ•´çš„æ‰§è¡Œè¿‡ç¨‹å¯è§
4. **æ™ºèƒ½**: å……åˆ†åˆ©ç”¨ Claude AI çš„åˆ†æèƒ½åŠ›
5. **å®ç”¨**: ç”Ÿæˆå¯ç›´æ¥è¿è¡Œçš„æµ‹è¯•ä»£ç 

è¿™ä¸ªæ¶æ„å±•ç¤ºäº†å¦‚ä½•å°† AI èƒ½åŠ›ä¸ä¼ ç»Ÿè½¯ä»¶å·¥ç¨‹æœ€ä½³å®è·µç›¸ç»“åˆï¼Œåˆ›å»ºä¸€ä¸ªæ—¢æ™ºèƒ½åˆå¯ç»´æŠ¤çš„æµ‹è¯•è‡ªåŠ¨åŒ–ç³»ç»Ÿã€‚